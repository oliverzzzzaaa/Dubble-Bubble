!function(t){var s={};function e(i){if(s[i])return s[i].exports;var o=s[i]={i:i,l:!1,exports:{}};return t[i].call(o.exports,o,o.exports,e),o.l=!0,o.exports}e.m=t,e.c=s,e.d=function(t,s,i){e.o(t,s)||Object.defineProperty(t,s,{enumerable:!0,get:i})},e.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e.t=function(t,s){if(1&s&&(t=e(t)),8&s)return t;if(4&s&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(e.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&s&&"string"!=typeof t)for(var o in t)e.d(i,o,function(s){return t[s]}.bind(null,o));return i},e.n=function(t){var s=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(s,"a",s),s},e.o=function(t,s){return Object.prototype.hasOwnProperty.call(t,s)},e.p="",e(e.s=3)}([function(t,s){function e(t){this.pos=t.pos,this.vel=t.vel,this.radius=t.radius,this.color="#B22222",this.accel=.12}e.prototype.draw=function(t){t.fillStyle=this.color,t.beginPath(),t.arc(this.pos[0],this.pos[1],this.radius,0,2*Math.PI,!0),t.fill()},e.prototype.move=function(){let t=[0,0];this.vel[1]=this.vel[1]+this.accel,t[0]=this.pos[0]+this.vel[0],t[1]=this.pos[1]+this.vel[1],this.vel[1]=this.vel[1]+this.accel,this.pos=t},t.exports=e},function(t,s,e){const i=e(5);function o(t){this.pos=t.pos,this.vel=[0,0],this.bullets=[],this.radius=20,this.color="#6495ED",this.maxBullets=1,this.lives=t.lives}o.prototype.move=function(){let t=this.pos;return t[0]+=this.vel[0],t[0]>980?t[0]=980:t[0]<20&&(t[0]=20),t[1]+=this.vel[1],this.pos=t,t},o.prototype.increaseVel=function(t){this.vel=t},o.prototype.draw=function(t){t.fillStyle=this.color,t.beginPath(),t.arc(this.pos[0],this.pos[1],this.radius,0,2*Math.PI,!0),t.fill()},o.prototype.canShoot=function(){return this.bullets.length<this.maxBullets},o.prototype.shoot=function(t){if(this.bullets.length<this.maxBullets){let s=new i(t,this.pos.slice());return this.bullets.push(s),s}},o.prototype.clearBullet=function(t){this.bullets.splice(t,1)},t.exports=o},function(t,s){function e(t){this.width=t.size[0],this.height=t.size[1],this.pos=t.pos,this.color="#4B0082"}e.prototype.draw=function(t){t.fillStyle=this.color,t.fillRect(this.pos[0],this.pos[1],this.width,this.height)},t.exports=e},function(t,s,e){const i=e(4);e(13);document.addEventListener("DOMContentLoaded",t=>{let s=document.getElementById("game-canvas");s.width=1e3,s.height=700;const e=s.getContext("2d");new i(e,s.width,s.height).start()})},function(t,s,e){const i=e(0),o=(e(1),e(6)),l=e(10),n=e(11),h=e(12);function r(t,s,e){this.bubbles=[],this.bullets=[],this.players=[],this.level=1,this.rectangles=[],this.map=o(this.level),this.DIM_X=s,this.DIM_Y=e,this.BG_COLOR="#FFFFF",this.ctx=t,this.floorY=520,this.ground=new h}r.MOVES={w:[0,-15],a:[-15,0],s:[0,15],d:[15,0]},r.prototype.bindKeyHandlers=function(){const t=this.players[0];Object.keys(r.MOVES).forEach((function(s){const e=r.MOVES[s];key(s,(function(){t.increaseVel(e)}))})),key("space",()=>{t.canShoot()?(console.log("pew"),this.bullets.push(t.shoot(this.ctx))):(console.log("too many"),console.log(t.bullets))})},r.prototype.move=function(){this.bubbles.move()},r.prototype.start=function(){document.addEventListener("keydown",this.onkeydown.bind(this)),document.addEventListener("keyup",this.onkeyup.bind(this)),this.lastTime=0,this.map=new(o(this.level)),this.players=this.map.players,this.bubbles=this.map.bubbles,requestAnimationFrame(this.animate.bind(this))},r.prototype.animate=function(t){const s=t-this.lastTime;this.move(s),this.drawAll(),this.map.bubbles.length<1&&(console.log("DONE"),this.level+=1,this.map=new(o(this.level))({players:this.players}),this.players.forEach(t=>{t.pos=this.map.startPos}),this.bindKeyHandlers(),this.bubbles=this.map.bubbles),requestAnimationFrame(this.animate.bind(this))},r.prototype.move=function(t){this.map.players.forEach(t=>{t.move(),t.bullets.forEach(t=>t.move())}),this.map.bubbles.forEach(t=>t.move())},r.prototype.drawAll=function(){this.ctx.clearRect(0,0,this.DIM_X,this.DIM_Y),this.ground.draw(this.ctx),this.players.forEach(t=>{t.draw(this.ctx),t.bullets.forEach(t=>t.draw(this.ctx))}),this.map.bubbles.forEach(t=>t.draw(this.ctx)),this.map.rectangles.forEach(t=>t.draw(this.ctx)),this.checkCollisions()},r.prototype.shouldPop=function(t){for(let s=0;s<this.map.bubbles.length;s++){let e=this.map.bubbles[s];if(t.top<=e.pos[1]+e.radius&&t.pos[0]>e.pos[0]-e.radius&&t.pos[0]<e.pos[0]+e.radius){let t=[new i({pos:e.pos.slice(),vel:[e.vel[0],.5*e.vel[1]],radius:e.radius/2}),new i({pos:e.pos.slice(),vel:[-1*e.vel[0],.5*e.vel[1]],radius:e.radius/2})];return e.radius>10&&(this.map.bubbles=this.map.bubbles.concat(t)),this.map.bubbles.splice(s,1),!0}}},r.prototype.checkCollisions=function(){this.map.players.forEach(t=>{let s=0;for(;s<t.bullets.length;)t.bullets[s].top<0?t.clearBullet():this.shouldPop(t.bullets[s])?(t.clearBullet(),s++):s++}),this.map.bubbles.forEach(t=>{t.pos[1]+t.radius>=this.floorY&&(t.vel[1]=n(t)),t.pos[0]+t.radius>=this.DIM_X&&(t.vel[0]=-1*t.vel[0]),t.pos[1]-t.radius<=0&&(t.vel[1]=-1*t.vel[1]),t.pos[0]-t.radius<=0&&(t.vel[0]=-1*t.vel[0])}),this.map.bubbles.forEach(t=>{this.map.rectangles.forEach(s=>{let e=l(t,s);e&&("vertical"===e?t.vel[1]=-1*t.vel[1]:"horizontal"===e?t.vel[0]=-1*t.vel[0]:(t.vel[0]=-1*t.vel[0],t.vel[1]=-1*t.vel[1]))})}),this.map.bubbles.forEach(t=>{this.map.players.forEach(s=>{let e=Math.abs(t.pos[0]-s.pos[0]),i=Math.abs(t.pos[1]-s.pos[1]);e*e+i*i<=(s.radius+t.radius)*(s.radius+t.radius)&&(this.players.lives-=1,this.map=new(o(this.level))({players:this.players}),this.bubbles=this.map.bubbles,requestAnimationFrame(this.animate.bind(this)))})})},r.prototype.onkeydown=function(t){if(" "==t.key||"Enter"==t.key){let t=this.map.players[0];t.canShoot()?this.bullets.push(t.shoot(this.ctx)):(console.log("too many"),console.log(t.bullets))}"a"!=t.key&&"ArrowLeft"!=t.key||(this.map.players[0].vel=[-5,0]),"d"!=t.key&&"ArrowRight"!=t.key||(this.map.players[0].vel=[5,0])},r.prototype.onkeyup=function(t){"a"!=t.key&&"ArrowLeft"!=t.key||(this.map.players[0].vel=[0,0]),"d"!=t.key&&"ArrowRight"!=t.key||(this.map.players[0].vel=[0,0])},t.exports=r},function(t,s){function e(t,s){this.ctx=t,this.vel=[0,-2],this.pos=[s[0],s[1]+20],this.color="#FFF0F5",this.width=1,this.height=-100,this.top=this.pos}e.prototype.move=function(){this.height+=-8,this.top=this.pos[1]+this.height},e.prototype.draw=function(t){t.fillStyle=this.color,t.fillRect(this.pos[0],this.pos[1],this.width,this.height)},t.exports=e},function(t,s,e){const i=e(7),o=e(8),l=e(9);t.exports=function(t){switch(t){case 1:return i;case 2:return o;case 3:return l}}},function(t,s,e){const i=e(1),o=e(0);e(2);t.exports=function(t){this.players=[new i({pos:[500,500],vel:[0,0],lives:5})],this.bubbles=[new o({pos:[600,200],vel:[1,.1],radius:60,game:t})],this.rectangles=[]}},function(t,s,e){e(1);const i=e(0),o=e(2);t.exports=function(t){this.players=t.players,this.startPos=[[500,500]],this.bubbles=[new i({pos:[300,100],vel:[1,.3],radius:80})],this.rectangles=[new o({pos:[300,300],vel:[0,0],size:[80,10]}),new o({pos:[500,100],vel:[0,0],size:[10,200]})]}},function(t,s,e){const i=e(1),o=e(0),l=e(2);t.exports=function(t){this.players=[new i({pos:[500,500],vel:[0,0]})],this.bubbles=[new o({pos:[500,100],vel:[1,.3],radius:40}),new o({pos:[500,200],vel:[1,.3],radius:40})],this.rectangles=[new l({pos:[300,300],vel:[0,0],size:[80,10],game:t})]}},function(t,s){t.exports=function(t,s){let e=Math.abs(t.pos[0]-(s.pos[0]+s.width/2)),i=Math.abs(t.pos[1]-(s.pos[1]+s.height/2));if(e>s.width/2+t.radius)return!1;if(i>s.height/2+t.radius)return!1;if(e<=s.width/2)return"horizontal";if(i<=s.height/2)return"vertical";let o=e+s.width/2,l=i+s.height/2;return o*o+l*l<=t.radius*t.radius}},function(t,s){t.exports=function(t){return t.radius>=60?-11:t.radius>=30?-10:t.radius>=15?-9:t.radius>=7?-7:void 0}},function(t,s){function e(){this.color="#696969",this.pos=[0,520],this.width=1e3,this.height=2}e.prototype.draw=function(t){console.log(this),t.fillStyle=this.color,t.fillRect(this.pos[0],this.pos[1],this.width,this.height)},t.exports=e},function(t,s){function e(t,s){this.ctx=s,this.game=t}e.MOVES={w:[0,-10],a:[-10,0],s:[0,10],d:[10,0]},e.prototype.bindKeyHandlers=function(){const t=this.game.players[0];console.log(this.game),Object.keys(e.MOVES).forEach((function(s){const i=e.MOVES[s];key(s,(function(){t.increaseVel(i)}))})),key("space",(function(){ship.fireBullet()}))},e.prototype.start=function(){this.player=this.game.addPlayer(),this.bindKeyHandlers(),this.game.start()},t.exports=e}]);